webpackJsonp([4],{68:function(e,t,n){e.exports={default:n(180),__esModule:!0}},73:[1600,54,123,122,55,105,128],82:[1592,91,25],90:129,93:function(e,t,n){var o=n(74);e.exports=function(e,t,n){for(var r in t)n&&e[r]?e[r]=t[r]:o(e,r,t[r]);return e}},112:function(e,t){(function(t){function n(e){return"number"==typeof e&&o(e)}var o=t.isFinite;e.exports=n}).call(t,function(){return this}())},114:function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=function(){function e(t,n){o(this,e),this.heightData=t,this.numberOfChildren=n}return r(e,[{key:"getTotalScrollableHeight",value:function(){}},{key:"getDisplayIndexStart",value:function(e){}},{key:"getDisplayIndexEnd",value:function(e){}},{key:"getTopSpacerHeight",value:function(e){}},{key:"getBottomSpacerHeight",value:function(e){}}]),e}();e.exports=i},122:[1605,92,25],123:[1607,55],124:[1610,25],126:function(e,t,n){"use strict";var o=n(42),r=n(23),i=n(51),a=n(56),s=n(25)("species");e.exports=function(e){var t="function"==typeof r[e]?r[e]:o[e];a&&t&&!t[s]&&i.f(t,s,{configurable:!0,get:function(){return this}})}},128:[1641,82,25,92,23],180:function(e,t,n){n(149),n(107),n(150),n(187),e.exports=n(23).Promise},183:[1613,42,127,91],186:[1630,55,120,25],187:[1650,147,42,54,82,46,69,120,90,73,186,127,183,25,93,103,126,23,124],193:function(e,t){function n(e){return!!e&&"object"==typeof e}function o(e,t){var n=null==e?void 0:e[t];return s(n)?n:void 0}function r(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=v}function i(e){return a(e)&&h.call(e)==u}function a(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function s(e){return null!=e&&(i(e)?m.test(f.call(e)):n(e)&&c.test(e))}var l="[object Array]",u="[object Function]",c=/^\[object .+?Constructor\]$/,d=Object.prototype,f=Function.prototype.toString,p=d.hasOwnProperty,h=d.toString,m=RegExp("^"+f.call(p).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),g=o(Array,"isArray"),v=9007199254740991,y=g||function(e){return n(e)&&r(e.length)&&h.call(e)==l};e.exports=y},318:function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=function(e,t,n){for(var o=!0;o;){var r=e,i=t,a=n;o=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,i);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var u=Object.getPrototypeOf(r);if(null===u)return;e=u,t=i,n=a,o=!0,s=u=void 0}},s=n(114),l=n(321),u=function(e){function t(e,n){o(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,n),this.prefixHeightData=this.heightData.reduce(function(e,t){return 0===e.length?[t]:(e.push(e[e.length-1]+t),e)},[])}return r(t,e),i(t,[{key:"maybeIndexToIndex",value:function(e){return"undefined"==typeof e||null===e?this.prefixHeightData.length-1:e}},{key:"getTotalScrollableHeight",value:function(){var e=this.prefixHeightData.length;return 0===e?0:this.prefixHeightData[e-1]}},{key:"getDisplayIndexStart",value:function(e){var t=l.binaryIndexSearch(this.prefixHeightData,e,l.opts.CLOSEST_HIGHER);return this.maybeIndexToIndex(t)}},{key:"getDisplayIndexEnd",value:function(e){var t=l.binaryIndexSearch(this.prefixHeightData,e,l.opts.CLOSEST_HIGHER);return this.maybeIndexToIndex(t)}},{key:"getTopSpacerHeight",value:function(e){var t=e-1;return t<0?0:this.prefixHeightData[t]}},{key:"getBottomSpacerHeight",value:function(e){return e===-1?0:this.getTotalScrollableHeight()-this.prefixHeightData[e]}}]),t}(s);e.exports=u},319:function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=function(e,t,n){for(var o=!0;o;){var r=e,i=t,a=n;o=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,i);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var u=Object.getPrototypeOf(r);if(null===u)return;e=u,t=i,n=a,o=!0,s=u=void 0}},s=n(114),l=function(e){function t(){o(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return r(t,e),i(t,[{key:"getTotalScrollableHeight",value:function(){return this.heightData*this.numberOfChildren}},{key:"getDisplayIndexStart",value:function(e){return Math.floor(e/this.heightData)}},{key:"getDisplayIndexEnd",value:function(e){var t=Math.ceil(e/this.heightData);return t>0?t-1:t}},{key:"getTopSpacerHeight",value:function(e){return e*this.heightData}},{key:"getBottomSpacerHeight",value:function(e){var t=e+1;return Math.max(0,(this.numberOfChildren-t)*this.heightData)}}]),t}(s);e.exports=l},320:function(e,t,n){(function(t){"use strict";function o(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}var r=t.React||n(1),i=t.PropTypes||n(6),a=t.createReactClass||n(65);n(323);var s=n(325),l=n(324),u=n(112),c=n(326).preloadType,d=d=n(322),f=a({propTypes:{children:i.any,handleScroll:i.func,preloadBatchSize:c,preloadAdditionalHeight:c,elementHeight:i.oneOfType([i.number,i.arrayOf(i.number)]).isRequired,containerHeight:i.number,useWindowAsScrollContainer:i.bool,displayBottomUpwards:i.bool.isRequired,infiniteLoadBeginEdgeOffset:i.number,onInfiniteLoad:i.func,loadingSpinnerDelegate:i.node,isInfiniteLoading:i.bool,timeScrollStateLastsForAfterUserScrolls:i.number,className:i.string,styles:i.shape({scrollableStyle:i.object}).isRequired},statics:{containerHeightScaleFactor:function(e){if(!u(e))throw new Error("The scale factor must be a number.");return{type:s.CONTAINER_HEIGHT_SCALE_FACTOR,amount:e}}},computedProps:{},utils:{},shouldAttachToBottom:!1,preservedScrollState:0,loadingSpinnerHeight:0,deprecationWarned:!1,scrollable:null,topSpacer:null,bottomSpacer:null,smoothScrollingWrapper:null,loadingSpinner:null,getDefaultProps:function(){return{handleScroll:function(){},useWindowAsScrollContainer:!1,onInfiniteLoad:function(){},loadingSpinnerDelegate:r.createElement("div",null),displayBottomUpwards:!1,isInfiniteLoading:!1,timeScrollStateLastsForAfterUserScrolls:150,className:"",styles:{}}},getInitialState:function(){var e=this.recomputeInternalStateFromProps(this.props);this.computedProps=e.computedProps,this.utils=e.utils,this.shouldAttachToBottom=this.props.displayBottomUpwards;var t=e.newState;return t.scrollTimeout=void 0,t.isScrolling=!1,t},generateComputedProps:function(e){var t=e.containerHeight,n=e.preloadBatchSize,r=e.preloadAdditionalHeight,i=o(e,["containerHeight","preloadBatchSize","preloadAdditionalHeight"]),a={};t="number"==typeof t?t:0,a.containerHeight=e.useWindowAsScrollContainer?window.innerHeight:t,void 0!==i.infiniteLoadBeginBottomOffset&&(a.infiniteLoadBeginEdgeOffset=i.infiniteLoadBeginBottomOffset,this.deprecationWarned||(console.error("Warning: React Infinite's infiniteLoadBeginBottomOffset prop\n        has been deprecated as of 0.6.0. Please use infiniteLoadBeginEdgeOffset.\n        Because this is a rather descriptive name, a simple find and replace\n        should suffice."),this.deprecationWarned=!0));var l={type:s.CONTAINER_HEIGHT_SCALE_FACTOR,amount:.5},u=n&&n.type?n:l;"number"==typeof n?a.preloadBatchSize=n:"object"==typeof u&&u.type===s.CONTAINER_HEIGHT_SCALE_FACTOR?a.preloadBatchSize=a.containerHeight*u.amount:a.preloadBatchSize=0;var c={type:s.CONTAINER_HEIGHT_SCALE_FACTOR,amount:1},d=r&&r.type?r:c;return"number"==typeof r?a.preloadAdditionalHeight=r:"object"==typeof d&&d.type===s.CONTAINER_HEIGHT_SCALE_FACTOR?a.preloadAdditionalHeight=a.containerHeight*d.amount:a.preloadAdditionalHeight=0,Object.assign(i,a)},generateComputedUtilityFunctions:function(e){var t=this,n={};return n.getLoadingSpinnerHeight=function(){var e=0;return t.loadingSpinner&&(e=t.loadingSpinner.offsetHeight||0),e},e.useWindowAsScrollContainer?(n.subscribeToScrollListener=function(){window.addEventListener("scroll",t.infiniteHandleScroll)},n.unsubscribeFromScrollListener=function(){window.removeEventListener("scroll",t.infiniteHandleScroll)},n.nodeScrollListener=function(){},n.getScrollTop=function(){return window.pageYOffset},n.setScrollTop=function(e){window.scroll(window.pageXOffset,e)},n.scrollShouldBeIgnored=function(){return!1},n.buildScrollableStyle=function(){return{}}):(n.subscribeToScrollListener=function(){},n.unsubscribeFromScrollListener=function(){},n.nodeScrollListener=this.infiniteHandleScroll,n.getScrollTop=function(){return t.scrollable?t.scrollable.scrollTop:0},n.setScrollTop=function(e){t.scrollable&&(t.scrollable.scrollTop=e)},n.scrollShouldBeIgnored=function(e){return e.target!==t.scrollable},n.buildScrollableStyle=function(){return Object.assign({},{height:t.computedProps.containerHeight,overflowX:"hidden",overflowY:"scroll",WebkitOverflowScrolling:"touch"},t.computedProps.styles.scrollableStyle||{})}),n},recomputeInternalStateFromProps:function(e){d(e);var t=this.generateComputedProps(e),n=this.generateComputedUtilityFunctions(e),o={};return o.numberOfChildren=r.Children.count(t.children),o.infiniteComputer=l.createInfiniteComputer(t.elementHeight,t.children,t.displayBottomUpwards),void 0!==t.isInfiniteLoading&&(o.isInfiniteLoading=t.isInfiniteLoading),o.preloadBatchSize=t.preloadBatchSize,o.preloadAdditionalHeight=t.preloadAdditionalHeight,o=Object.assign(o,l.recomputeApertureStateFromOptionsAndScrollTop(o,n.getScrollTop())),{computedProps:t,utils:n,newState:o}},componentWillReceiveProps:function(e){var t=this.recomputeInternalStateFromProps(e);this.computedProps=t.computedProps,this.utils=t.utils,this.setState(t.newState)},componentWillUpdate:function(){this.props.displayBottomUpwards&&(this.preservedScrollState=this.utils.getScrollTop()-this.loadingSpinnerHeight)},componentDidUpdate:function(e,t){if(this.loadingSpinnerHeight=this.utils.getLoadingSpinnerHeight(),this.props.displayBottomUpwards){var n=this.getLowestPossibleScrollTop();this.shouldAttachToBottom&&this.utils.getScrollTop()<n?this.utils.setScrollTop(n):e.isInfiniteLoading&&!this.props.isInfiniteLoading&&this.utils.setScrollTop(this.state.infiniteComputer.getTotalScrollableHeight()-t.infiniteComputer.getTotalScrollableHeight()+this.preservedScrollState)}var o=this.state.numberOfChildren!==t.numberOfChildren;if(o){var r=l.recomputeApertureStateFromOptionsAndScrollTop(this.state,this.utils.getScrollTop());this.setState(r)}var i=o&&!this.hasAllVisibleItems()&&!this.state.isInfiniteLoading;i&&this.onInfiniteLoad()},componentDidMount:function(){if(this.utils.subscribeToScrollListener(),this.hasAllVisibleItems()||this.onInfiniteLoad(),this.props.displayBottomUpwards){var e=this.getLowestPossibleScrollTop();this.shouldAttachToBottom&&this.utils.getScrollTop()<e&&this.utils.setScrollTop(e)}},componentWillUnmount:function(){this.utils.unsubscribeFromScrollListener()},infiniteHandleScroll:function(e){this.utils.scrollShouldBeIgnored(e)||(this.computedProps.handleScroll(this.scrollable),this.handleScroll(this.utils.getScrollTop()))},manageScrollTimeouts:function(){this.state.scrollTimeout&&clearTimeout(this.state.scrollTimeout);var e=this,t=setTimeout(function(){e.setState({isScrolling:!1,scrollTimeout:void 0})},this.computedProps.timeScrollStateLastsForAfterUserScrolls);this.setState({isScrolling:!0,scrollTimeout:t})},getLowestPossibleScrollTop:function(){return this.state.infiniteComputer.getTotalScrollableHeight()-this.computedProps.containerHeight},hasAllVisibleItems:function(){return!(u(this.computedProps.infiniteLoadBeginEdgeOffset)&&this.state.infiniteComputer.getTotalScrollableHeight()<this.computedProps.containerHeight)},passedEdgeForInfiniteScroll:function(e){return this.computedProps.displayBottomUpwards?!this.shouldAttachToBottom&&e<this.computedProps.infiniteLoadBeginEdgeOffset:e>this.state.infiniteComputer.getTotalScrollableHeight()-this.computedProps.containerHeight-this.computedProps.infiniteLoadBeginEdgeOffset},onInfiniteLoad:function(){this.setState({isInfiniteLoading:!0}),this.computedProps.onInfiniteLoad()},handleScroll:function(e){this.shouldAttachToBottom=this.computedProps.displayBottomUpwards&&e>=this.getLowestPossibleScrollTop(),this.manageScrollTimeouts();var t=l.recomputeApertureStateFromOptionsAndScrollTop(this.state,e);this.passedEdgeForInfiniteScroll(e)&&!this.state.isInfiniteLoading?(this.setState(Object.assign({},t)),this.onInfiniteLoad()):this.setState(t)},buildHeightStyle:function(e){return{width:"100%",height:Math.ceil(e)}},render:function(){var e,t=this;e=this.state.numberOfChildren>1?this.computedProps.children.slice(this.state.displayIndexStart,this.state.displayIndexEnd+1):this.computedProps.children;var n={};this.state.isScrolling&&(n.pointerEvents="none");var o=this.state.infiniteComputer.getTopSpacerHeight(this.state.displayIndexStart),i=this.state.infiniteComputer.getBottomSpacerHeight(this.state.displayIndexEnd);if(this.computedProps.displayBottomUpwards){var a=this.computedProps.containerHeight-this.state.infiniteComputer.getTotalScrollableHeight();a>0&&(o=a-this.loadingSpinnerHeight)}var s=void 0===this.computedProps.infiniteLoadBeginEdgeOffset?null:r.createElement("div",{ref:function(e){t.loadingSpinner=e}},this.state.isInfiniteLoading?this.computedProps.loadingSpinnerDelegate:null);return r.createElement("div",{className:this.computedProps.className,ref:function(e){t.scrollable=e},style:this.utils.buildScrollableStyle(),onScroll:this.utils.nodeScrollListener},r.createElement("div",{ref:function(e){t.smoothScrollingWrapper=e},style:n},r.createElement("div",{ref:function(e){t.topSpacer=e},style:this.buildHeightStyle(o)}),this.computedProps.displayBottomUpwards&&s,e,!this.computedProps.displayBottomUpwards&&s,r.createElement("div",{ref:function(e){t.bottomSpacer=e},style:this.buildHeightStyle(i)})))}});e.exports=f,t.Infinite=f}).call(t,function(){return this}())},321:function(e,t){"use strict";var n={CLOSEST_LOWER:1,CLOSEST_HIGHER:2},o=function(e,t,o){for(var r,i,a,s=e.length-1,l=0;l<=s;){if(i=l+Math.floor((s-l)/2),a=e[i],a===t)return i;a<t?l=i+1:a>t&&(s=i-1)}return o===n.CLOSEST_LOWER&&l>0?r=l-1:o===n.CLOSEST_HIGHER&&s<e.length-1&&(r=s+1),r};e.exports={binaryIndexSearch:o,opts:n}},322:function(e,t,n){(function(t){"use strict";var o=t.React||n(1),r=n(112);e.exports=function(e){var t="Invariant Violation: ";if(!e.containerHeight&&!e.useWindowAsScrollContainer)throw new Error(t+"Either containerHeight or useWindowAsScrollContainer must be provided.");if(!r(e.elementHeight)&&!Array.isArray(e.elementHeight))throw new Error(t+"You must provide either a number or an array of numbers as the elementHeight.");if(Array.isArray(e.elementHeight)&&o.Children.count(e.children)!==e.elementHeight.length)throw new Error(t+"There must be as many values provided in the elementHeight prop as there are children.")}}).call(t,function(){return this}())},323:function(e,t,n){"use strict";Object.assign||(Object.assign=n(327)),Array.isArray||(Array.isArray=n(193))},324:function(e,t,n){(function(t){"use strict";function o(e,t){var n,o=s.Children.count(t);return n=Array.isArray(e)?new a(e,o):new i(e,o)}function r(e,t){var n=e.preloadBatchSize,o=e.preloadAdditionalHeight,r=e.infiniteComputer;return function(){var e=0===n?0:Math.floor(t/n),i=n*e,a=i+n,s=Math.max(0,i-o),l=Math.min(r.getTotalScrollableHeight(),a+o);return{displayIndexStart:r.getDisplayIndexStart(s),displayIndexEnd:r.getDisplayIndexEnd(l)}}()}var i=n(319),a=n(318),s=t.React||n(1);e.exports={createInfiniteComputer:o,recomputeApertureStateFromOptionsAndScrollTop:r}}).call(t,function(){return this}())},325:function(e,t){"use strict";e.exports={CONTAINER_HEIGHT_SCALE_FACTOR:"containerHeightScaleFactor"}},326:function(e,t,n){(function(t){"use strict";var o=t.PropTypes||n(6);e.exports={preloadType:o.oneOfType([o.number,o.shape({type:o.oneOf(["containerHeightScaleFactor"]).isRequired,amount:o.number.isRequired})])}}).call(t,function(){return this}())},327:function(e,t){"use strict";function n(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}var o=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;e.exports=Object.assign||function(e,t){for(var i,a,s=n(e),l=1;l<arguments.length;l++){i=Object(arguments[l]);for(var u in i)o.call(i,u)&&(s[u]=i[u]);if(Object.getOwnPropertySymbols){a=Object.getOwnPropertySymbols(i);for(var c=0;c<a.length;c++)r.call(i,a[c])&&(s[a[c]]=i[a[c]])}}return s}},468:613,791:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(12),i=o(r),a=n(3),s=o(a),l=n(13),u=o(l),c=n(5),d=o(c),f=n(4),p=o(f),h=n(1),m=o(h),g=n(15),v=o(g),y=n(320),S=o(y);n(468);var b=function(e){function t(e){(0,s.default)(this,t);var n=(0,d.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return n.state={generalQuestions:[],generalQuestionsLoaded:!1},n.renderCommentList=n.renderCommentList.bind(n),n.renderChildrenList=n.renderChildrenList.bind(n),n}return(0,p.default)(t,e),(0,u.default)(t,[{key:"componentWillMount",value:function(){var e=this.props.courseId;this.fetchItems(e)}},{key:"fetchItems",value:function(e){var t=this;this.setState({generalQuestions:[],generalQuestionsLoaded:!1,forumSection:{}}),v.default.database().ref("forumSections/"+e).once("value").then(function(e){var n=e.val();if(null!==n){var o=n.generalQuestions;t.setState({generalQuestions:o,generalQuestionsLoaded:!0})}else t.setState({generalQuestionsLoaded:!0})})}},{key:"renderChildrenList",value:function(e){return e.children.map(function(t,n){return m.default.createElement("div",{key:n},m.default.createElement("div",{className:"col-xs-10 col-md-10"},m.default.createElement("div",{className:"reply-name-course"},e.displayName)),m.default.createElement("div",{className:"col-xs-10 col-md-10"},m.default.createElement("div",null,m.default.createElement("div",{className:"reply-text-course"},t," "))))})}},{key:"renderCommentList",value:function(){var e=this,t=this.state.generalQuestions,n=void 0===t?[]:t;return n.map(function(t,n){return m.default.createElement("li",{key:n},m.default.createElement("div",{className:"col-xs-12 col-md-12 comment-course"},m.default.createElement("div",{className:"col-xs-1 col-md-1 comment-avatar-course"},m.default.createElement("div",null,m.default.createElement("img",{style:{borderRadius:"10%"},className:"comment-avatar-course",src:t.avatar}))),m.default.createElement("div",{className:"col-xs-10 col-md-10"},m.default.createElement("div",{className:"comments-name-course"},t.displayName),m.default.createElement("div",{className:"col-xs-10 col-md-10"},m.default.createElement("div",{className:"comments-text-course"},t.text," ")),t.children&&m.default.createElement("div",null," ",e.renderChildrenList(t)," "))))})}},{key:"render",value:function(){return m.default.createElement("div",null,m.default.createElement(S.default,{containerHeight:200,elementHeight:60,className:"scroll-course"},m.default.createElement("ul",{className:"list-unstyled"},this.renderCommentList())))}}]),t}(h.Component);b.propTypes={courseId:m.default.PropTypes.string},t.default=b},792:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(89),i=o(r),a=n(68),s=o(a),l=n(9),u=o(l),c=n(12),d=o(c),f=n(3),p=o(f),h=n(13),m=o(h),g=n(5),v=o(g),y=n(4),S=o(y),b=n(1),E=o(b),T=n(15),C=o(T),H=n(794),O=o(H),w=n(14),L=n(21),I=n(337),P=o(I),x=n(793),k=o(x),A=n(721),N=o(A);n(468);var B=function(e){function t(e){(0,p.default)(this,t);var n=(0,v.default)(this,(t.__proto__||(0,d.default)(t)).call(this,e));return n.state={course:{},courseLoaded:!1,lessons:[],lessonsLoaded:!1,sections:[],courseLessons:[],showComments:!1,buttonName:"Show Comments",lessonDescription:"",stopVideo:!1},n.renderSectionsList=n.renderSectionsList.bind(n),n.next=n.next.bind(n),n.previous=n.previous.bind(n),n}return(0,S.default)(t,e),(0,m.default)(t,[{key:"componentWillMount",value:function(){var e=this.props.params;this.setState(),this.fetchItem(e.courseId)}},{key:"fetchItem",value:function(e){var t=this;this.setState({course:{},courseLoaded:!1,lessons:[],lessonsLoaded:!1,newLessons:[]}),C.default.database().ref("courses/"+e).once("value").then(function(n){var o=n.val();if(null!==o){var r=(0,u.default)({},n.val(),{id:e}),i=r.sections,a=i.map(function(e){var t=e.lessonsIds.map(function(e){return C.default.database().ref("lessons/"+e).once("value").then(function(t){return(0,u.default)({},t.val(),{id:e})})});return s.default.all(t).then(function(t){return e=(0,u.default)({},e,{lessons:t})})});s.default.all(a).then(function(e){var n=[];e.forEach(function(e){return e.lessons.forEach(function(e){return n.push(e)})}),t.setState({sections:e,course:r,comments:r.comments,lessonDescription:e[0].lessons[0].description,courseLoaded:!0,lessonsLoaded:!0,newLessons:n})})}else t.setState({courseLoaded:!0})})}},{key:"next",value:function(){this.slider.slickNext()}},{key:"previous",value:function(){this.slider.slickPrev()}},{key:"renderSectionsList",value:function(){var e=this,t=this.state,n=(t.sections,t.newLessons),o=void 0===n?[]:n,r=(t.courseLoaded,{accessibility:!1,autoplay:!1,centerMode:!1,useCSS:!0,arrows:!1,dots:!1,infinite:!1,slidesToShow:6,slidesToScroll:3,vertical:!0});return E.default.createElement("div",{className:"content-slider"},E.default.createElement("div",{className:"sliderButtonPrev-course",onClick:function(){e.previous()}}),E.default.createElement(N.default,(0,u.default)({ref:function(t){return e.slider=t}},r),o.map(function(t,n){return E.default.createElement("div",{key:n,className:"lessonButton-course",onClick:function(){e.setState({lessonDescription:t.description})}},t.name)})),E.default.createElement("div",{className:"sliderButtonNext-course",onClick:function(){e.next()}}))}},{key:"renderDescripton",value:function(){var e=this.state.lessonDescription;return E.default.createElement("div",null,e)}},{key:"buttonClick",value:function(){var e=this.state,t=e.showComments,n=e.buttonName,o="Show Comments"===n?"Hide Comments":"Show Comments";this.setState({showComments:!t,buttonName:o})}},{key:"renderBuyButton",value:function(){var e=this.state,t=e.course,n=e.courseLoaded,o=this.props.user;return(0,i.default)(o).length?!(!n||!t.name)&&E.default.createElement("div",{className:"buttonBuy-course",onClick:function(){L.browserHistory.push({pathname:"/accounts/"+t.id})}}," Начать обучение ",t.price,"$"):E.default.createElement("a",{href:P.default+"/auth/steam"},"Login to Apply")}},{key:"renderBuyVipButton",value:function(){var e=this.state,t=e.course,n=e.courseLoaded,o=this.props.user;return(0,i.default)(o).length?!(!n||!t.name)&&E.default.createElement("div",{className:"buttonBuy-course",onClick:function(){L.browserHistory.push({pathname:"/accounts/"+t.id})}}," Vip обучение ",t.vipPrice,"$"):E.default.createElement("a",{href:P.default+"/auth/steam"},"Login to Apply")}},{key:"render",value:function(){var e=this,t=this.state,n=t.course,o=(t.showComments,t.sections),r=t.courseLoaded,i=t.stopVideo,a=this.props,s=a.params,l=a.user,u=function(){if(l.userCourses){var e=l.userCourses.findIndex(function(e){return e.courseId===s.courseId});return e!==-1}return!1},c=function(){if(l.userVipCourses){var e=l.userVipCourses.findIndex(function(e){return e.courseId===s.courseId});return e!==-1}return!1};return r?E.default.createElement("div",{className:"container"},E.default.createElement("div",{className:"container-course text-center"},E.default.createElement("div",{className:"row"},E.default.createElement("div",{className:"content-course"},E.default.createElement("div",{className:"col-xs-12 col-md-12 course-name-course"}," ",n.name),E.default.createElement("div",{className:"col-xs-12 col-md-12 course-duration-course"},"(длительность курса ",n.duration,")"),E.default.createElement("div",{className:"col-xs-12 col-md-12"},r&&E.default.createElement("div",null," ",E.default.createElement(k.default,{url:o[0].lessons[0].videoUrl,stopVideo:i}),E.default.createElement("button",{type:"button",className:"videoButton-course",onClick:function(){e.setState({stopVideo:!i})}}))),E.default.createElement("div",{className:"col-xs-6 col-md-6"},!u()&&!c()&&this.renderBuyButton()),E.default.createElement("div",{className:"col-xs-6 col-md-6"},!c()&&this.renderBuyVipButton()),E.default.createElement("div",{className:"col-xs-5 col-md-5"},this.renderSectionsList()),E.default.createElement("div",{className:"col-xs-7 col-md-7"},E.default.createElement("ul",{className:"descriptionBlock-course"},this.renderDescripton())),E.default.createElement("div",{className:"col-xs-12 col-md-12 comments-course"},E.default.createElement(O.default,{courseId:s.courseId})))))):E.default.createElement("div",null,"Loading...")}}]),t}(b.Component);B.propTypes={params:b.PropTypes.object,user:b.PropTypes.object,location:b.PropTypes.object};var _=function(e){return{user:e.auth.user}};t.default=(0,w.connect)(_)(B)},793:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(12),i=o(r),a=n(3),s=o(a),l=n(13),u=o(l),c=n(5),d=o(c),f=n(4),p=o(f),h=n(1),m=o(h),g=n(40),v=n(391),y=o(v),S=n(379),b=o(S);n(468);var E=function(e){function t(e){(0,s.default)(this,t);var n=(0,d.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return n.playPause=function(){n.setState({playing:!n.state.playing})},n.stop=function(){n.setState({playing:!1})},n.setVolume=function(e){n.setState({volume:parseFloat(e.target.value)})},n.setPlaybackRate=function(e){n.setState({playbackRate:parseFloat(e.target.value)})},n.onSeekMouseDown=function(e){n.setState({seeking:!0})},n.onSeekChange=function(e){n.setState({played:parseFloat(e.target.value)})},n.onSeekMouseUp=function(e){n.setState({seeking:!1}),n.player.seekTo(parseFloat(e.target.value))},n.onProgress=function(e){n.state.seeking||n.setState(e)},n.onClickFullscreen=function(){y.default.request((0,g.findDOMNode)(n.player))},n.state={playing:!0,volume:.4,played:0,loaded:0,duration:0,playbackRate:1},n}return(0,p.default)(t,e),(0,u.default)(t,[{key:"componentWillReceiveProps",value:function(e){this.props.stopVideo!==e.stopVideo&&this.playPause()}},{key:"renderVideoEnded",value:function(){}},{key:"renderVideoStarted",value:function(){}},{key:"format",value:function(e){var t=new Date(1e3*e),n=t.getUTCHours(),o=t.getUTCMinutes(),r=this.pad(t.getUTCSeconds());return n?n+":"+this.pad(o)+":"+r:o+":"+r}},{key:"pad",value:function(e){return("0"+e).slice(-2)}},{key:"renderVideo",value:function(){var e=this,t=this.props.url,n=this.state,o=n.playing,r=n.volume,i=(n.played,n.loaded,n.duration,n.playbackRate),a=n.soundcloudConfig;return m.default.createElement("div",null,m.default.createElement(b.default,{width:1130,height:600,url:t,ref:function(t){e.player=t},className:"react-player-course",playing:o,playbackRate:i,volume:r,soundcloudConfig:a,onStart:function(){return e.renderVideoStarted()},onPlay:function(){return e.setState({playing:!0})},onPause:function(){return e.setState({playing:!1})},onEnded:function(){e.renderVideoEnded(),e.setState({playing:!1})},onError:function(e){return console.log("onError",e)},onProgress:this.onProgress,onDuration:function(t){return e.setState({duration:t})}}))}},{key:"render",value:function(){var e=this.state,t=e.playing,n=e.volume,o=e.played,r=e.duration,i=(this.props.stopVideo,t?"pause":"play");return m.default.createElement("div",{className:"player-course"},this.renderVideo(),m.default.createElement("div",{className:"сontrols-course"},m.default.createElement("div",{onClick:this.playPause,className:i}),m.default.createElement("time",{dateTime:"P"+Math.round(r*o)+"S",className:"time-course"},this.format(r*o)),m.default.createElement("input",{type:"range",min:0,max:1,step:"any",value:o,onMouseDown:this.onSeekMouseDown,onChange:this.onSeekChange,onMouseUp:this.onSeekMouseUp}),m.default.createElement("time",{dateTime:"P"+Math.round(r*(1-o))+"S",className:"time-course"},this.format(r*(1-o))),m.default.createElement("input",{className:"volume-course",type:"range",min:0,max:1,step:"any",value:n,onChange:this.setVolume}),m.default.createElement("div",{onClick:this.onClickFullscreen,className:"fullscreen-course"})))}}]),t}(h.Component);E.propTypes={url:m.default.PropTypes.string,stopVideo:m.default.PropTypes.bool},t.default=E},794:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(14),i=n(791),a=o(i),s=function(e){return{auth:e.auth}};t.default=(0,r.connect)(s)(a.default)}});