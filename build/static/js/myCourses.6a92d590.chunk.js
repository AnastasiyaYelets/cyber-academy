webpackJsonp([11],{1414:function(e,t,r){"use strict";var a=r(0),n=r.n(a),s=r(1416),o=r(21),c=function(e){return Object.keys(e.auth.user).length||o.b.push({pathname:"/"}),n.a.createElement("div",{className:"container"},n.a.createElement(s.a,null))};c.propTypes={user:n.a.PropTypes.string,auth:n.a.PropTypes.object},t.a=c},1415:function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function s(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=r(0),c=r.n(o),u=r(71),i=r.n(u),l=r(21),p=r(1440),d=(r.n(p),function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}()),m=function(e){function t(e){a(this,t);var r=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.state={courses:[],coursesLoaded:!1,userCourses:[]},r}return s(t,e),d(t,[{key:"componentWillMount",value:function(){var e=this.props.auth.user.userCourses;e?this.fetchCourses(e):this.setState({coursesLoaded:!0})}},{key:"fetchCourses",value:function(e){var t=this;this.setState({courses:[],coursesLoaded:!1});var r=e.map(function(e){return i.a.database().ref("courses/"+e.courseId).once("value").then(function(t){var r=t.val();if(null!==r)return r.id=e.courseId,r})});Promise.all(r).then(function(e){var r=e.filter(function(e){return e});t.setState({courses:r,coursesLoaded:!0})})}},{key:"renderProgressBar",value:function(e){var t=this.props.auth.user.userCourses,r=t.find(function(t,r){return t.courseId===e.id}),a=r.uniqueWatchedLessonsIds?r.uniqueWatchedLessonsIds.length:0,n=e.sections.filter(function(e){return 0!==e.sectionNumber}),s=n.map(function(e){return e.lessonsIds?e.lessonsIds.length:0}),o=s.reduce(function(e,t){return e+t}),u=Math.round(a/o*100);return c.a.createElement("div",null,c.a.createElement("div",{className:"progress",style:{margin:"0px 0px 10px 10px"}},c.a.createElement("div",{className:"progress-bar",role:"progressbar","aria-valuenow":"40","aria-valuemin":"0","aria-valuemax":"100",style:{width:u+"%"}},u,"% Complete")))}},{key:"isVip",value:function(e){var t=this.props.auth.user.userVipCourses,r=t.find(function(t,r){return t.courseId===e.id});return c.a.createElement("div",null,!!r&&c.a.createElement("div",{className:"vip-course"}," VipCourse"),!r&&c.a.createElement("div",{className:"vip-course"}))}},{key:"renderCourses",value:function(){var e=this,t=this.state.courses;return[].concat(t).concat(t).map(function(t,r){return c.a.createElement("div",{key:r,className:"frame-course",style:{padding:"5px",margin:"15px 10px 10px 10px"}},c.a.createElement("img",{src:t.mainPhoto,width:"352px",height:"150px",alt:"loading"}),c.a.createElement("div",{className:"caption",style:{padding:"5px 10px 5px 10px"}},c.a.createElement("h5",{className:"frame-name"},t.name," "),c.a.createElement("h5",{className:"frame-description"},t.description),c.a.createElement("div",null,e.renderProgressBar(t)),e.isVip(t),c.a.createElement("div",{className:"button-details",style:{color:"yellow"},onClick:function(){l.b.push({pathname:"/myCourses/course/"+t.id})}},"More details")))})}},{key:"render",value:function(){var e=this.state,t=e.coursesLoaded,r=e.courses;return t?c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-xs-12 col-md-12",style:{padding:"0px"}},c.a.createElement("div",{className:"col-xs-2 col-md-2 ikon-dragon"}),c.a.createElement("div",{className:"col-xs-3 col-md-3 text-place"},"\u0423\u043b\u0443\u0447\u0448\u0438 \u0441\u0432\u043e\u0438 \u043d\u0430\u0432\u044b\u043a\u0438 \u0438 \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u044c \u0437\u0430 \u0438\u0433\u0440\u043e\u0439"),c.a.createElement("div",{className:"col-xs-7 col-md-7 text-frame"}," \u0418\u0437\u0443\u0447\u0438 \u043c\u0435\u0445\u0430\u043d\u0438\u0437\u043c \u0438\u0433\u0440\u044b \u0438 \u0432\u0437\u0430\u0438\u043c\u043e\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435 \u0441 \u043a\u043e\u043c\u0430\u043d\u0434\u043e\u0439")),c.a.createElement("div",{className:"col-xs-12 col-md-12 tab",style:{padding:"10px 0px 0px 0px"}},c.a.createElement("div",null,c.a.createElement("span",{className:"my-courses"},"\u041c\u043e\u0438 \u043a\u0443\u0440\u0441\u044b"),!r.length&&c.a.createElement("div",{className:"no-courses"}," You havent any courses yet"),!!r.length&&c.a.createElement("div",{className:"div-scroll scroll-horizontal"},this.renderCourses())))):c.a.createElement("div",null,"Loading...")}}]),t}(o.Component);m.propTypes={userCourses:c.a.PropTypes.array,auth:c.a.PropTypes.object,user:c.a.PropTypes.object},t.a=m},1416:function(e,t,r){"use strict";var a=r(16),n=r(1415),s=function(e){return{auth:e.auth}};t.a=r.i(a.connect)(s)(n.a)},1440:function(e,t,r){e.exports=r.p+"static/media/myCourses.63cc7836.scss"},615:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(16),n=r(1414),s=function(e){return{auth:e.auth}};t.default=r.i(a.connect)(s)(n.a)}});
//# sourceMappingURL=myCourses.6a92d590.chunk.js.map